life.displayAgeAndState={getUrlParamHash:function(){var searchStr=document.location.search.substring(1);var pairs=searchStr.split('&');var urlParamHash=[];for(var i=0;i<pairs.length;i++){var pair=pairs[i].split('=');urlParamHash[decodeURIComponent(pair[0])]=decodeURIComponent(pair[1]);}
var tmpArr=[searchStr.split("&")];return urlParamHash;},getStateName:function(){var stateArray=new Array();stateArray["AK"]="Alaska";stateArray["AL"]="Alabama";stateArray["AR"]="Arkansas";stateArray["AS"]="American Samoa";stateArray["AZ"]="Arizona";stateArray["CA"]="California";stateArray["CO"]="Colorado";stateArray["CT"]="Connecticut";stateArray["DC"]="D.C.";stateArray["DE"]="Delaware";stateArray["FL"]="Florida";stateArray["FM"]="Micronesia";stateArray["GA"]="Georgia";stateArray["GU"]="Guam";stateArray["HI"]="Hawaii";stateArray["IA"]="Iowa";stateArray["ID"]="Idaho";stateArray["IL"]="Illinois";stateArray["IN"]="Indiana";stateArray["KS"]="Kansas";stateArray["KY"]="Kentucky";stateArray["LA"]="Louisiana";stateArray["MA"]="Massachusetts";stateArray["MD"]="Maryland";stateArray["ME"]="Maine";stateArray["MH"]="Marshall Islands";stateArray["MI"]="Michigan";stateArray["MN"]="Minnesota";stateArray["MO"]="Missouri";stateArray["MP"]="Marianas";stateArray["MS"]="Mississippi";stateArray["MT"]="Montana";stateArray["NC"]="North Carolina";stateArray["ND"]="North Dakota";stateArray["NE"]="Nebraska";stateArray["NH"]="New Hampshire";stateArray["NJ"]="New Jersey";stateArray["NM"]="New Mexico";stateArray["NV"]="Nevada";stateArray["NY"]="New York";stateArray["OH"]="Ohio";stateArray["OK"]="Oklahoma";stateArray["OR"]="Oregon";stateArray["PA"]="Pennsylvania";stateArray["PR"]="Puerto Rico";stateArray["PW"]="Palau";stateArray["RI"]="Rhode Island";stateArray["SC"]="South Carolina";stateArray["SD"]="South Dakota";stateArray["TN"]="Tennessee";stateArray["TX"]="Texas";stateArray["UT"]="Utah";stateArray["VA"]="Virginia";stateArray["VI"]="Virgin Islands";stateArray["VT"]="Vermont";stateArray["WA"]="Washington";stateArray["WI"]="Wisconsin";stateArray["WV"]="West Virginia";stateArray["WY"]="Wyoming";stateArray["AA"]="Military Americas";stateArray["AE"]="Military Europe/ME/Canada";stateArray["AP"]="Military Pacific";return stateArray;},disclosureStr:"",stateStr:"",age:"",init:function(){life.displayAgeAndState.age=life.displayAgeAndState.getUrlParamHash()["Age"]!=undefined?life.displayAgeAndState.getUrlParamHash()["Age"]:(life.displayAgeAndState.getUrlParamHash()["age"]!=undefined?life.displayAgeAndState.getUrlParamHash()["age"]:undefined);if(life.displayAgeAndState.getUrlParamHash()["propertyStateCode"]!=undefined){life.displayAgeAndState.stateStr=life.displayAgeAndState.getUrlParamHash()["propertyStateCode"];}
var ageStr="";if(life.displayAgeAndState.age!==undefined){ageStr=life.displayAgeAndState.age.toString();}
if(life.displayAgeAndState.stateStr!=''&&life.displayAgeAndState.stateStr!=null){if(ageStr!=''&&ageStr!=null){life.displayAgeAndState.disclosureStr="*According to your selection, you are from "+life.displayAgeAndState.getStateName()[life.displayAgeAndState.stateStr]+", are "+ageStr+" years old and looking for life insurance.";}else{life.displayAgeAndState.disclosureStr="*According to your selection, you are from "+life.displayAgeAndState.getStateName()[life.displayAgeAndState.stateStr]+" and looking for life insurance.";}}else if(ageStr!=''&&ageStr!=null){life.displayAgeAndState.disclosureStr="*According to your selection, you are "+ageStr+" years old and looking for life insurance.";}else{life.displayAgeAndState.disclosureStr="";}
if(life.displayAgeAndState.disclosureStr!=""){$('#ageDisclosure').html(life.displayAgeAndState.disclosureStr);}}};life.populateZipcode={paramZipcode:"",init:function(){if(life.displayAgeAndState.getUrlParamHash()["zipcode"]!=undefined){life.populateZipcode.paramZipcode=life.displayAgeAndState.getUrlParamHash()["zipcode"];model.application.zipcode=life.populateZipcode.paramZipcode;$("#zipcode").val(life.populateZipcode.paramZipcode);}}};life.displayAgeAndState.init();life.populateZipcode.init();$(document).ready(life.displayAgeAndState.init);life.lp={init:function(){life.lp.moveHeader();$('#buttonContinue').click(function(){$('#button').click()})
$("input").keypress(function(evt){var charCode=evt.charCode||evt.keyCode;if(charCode==13){$(evt.target).change();$("#continue").click();return false;}});},moveHeader:function(){$('#page').prepend($('#headline'));$('#headline').after($('#subheadline'));$('#page').css("visibility","visible");}};$(document).ready(life.lp.init);life.templateConfirm={defaultWindowOptions:'toolbar=0,scrollbars=1,location=0,statusbar=0,menubar=0,resizable=1,',supressTemplate:false,init:function(){},openTempalte:function(){},template:function(targetLocation,width,height,name){}};$(document).ready(life.templateConfirm.init);life.templateAlert={supressAlert:false,init:function(){},displayAlert:function(){},notViewed:function(){}};$(document).ready(life.templateAlert.init);if(dwr==null)var dwr={};if(dwr.engine==null)dwr.engine={};if(DWREngine==null)var DWREngine=dwr.engine;if(dwr==null)var dwr={};if(dwr.engine==null)dwr.engine={};if(DWREngine==null)var DWREngine=dwr.engine;if(remoteInquirySaveService==null)var remoteInquirySaveService={};remoteInquirySaveService._path=''+JAWR.jawr_dwr_path+'';remoteInquirySaveService.setLifeInsuranceManager=function(p0,callback){dwr.engine._execute(remoteInquirySaveService._path,'remoteInquirySaveService','setLifeInsuranceManager',p0,callback);}
remoteInquirySaveService.save=function(p0,p1,callback){dwr.engine._execute(remoteInquirySaveService._path,'remoteInquirySaveService','save',p0,p1,callback);}
if(dwr==null)var dwr={};if(dwr.engine==null)dwr.engine={};if(DWREngine==null)var DWREngine=dwr.engine;if(dwr==null)var dwr={};if(dwr.engine==null)dwr.engine={};if(DWREngine==null)var DWREngine=dwr.engine;if(remoteValidationService==null)var remoteValidationService={};remoteValidationService._path=''+JAWR.jawr_dwr_path+'';remoteValidationService.setAbService=function(p0,callback){dwr.engine._execute(remoteValidationService._path,'remoteValidationService','setAbService',p0,callback);}
remoteValidationService.setValidationService=function(p0,callback){dwr.engine._execute(remoteValidationService._path,'remoteValidationService','setValidationService',p0,callback);}
remoteValidationService.validateSingleField=function(p0,p1,p2,callback){dwr.engine._execute(remoteValidationService._path,'remoteValidationService','validateSingleField',p0,p1,p2,callback);}
remoteValidationService.validate=function(p0,p1,callback){dwr.engine._execute(remoteValidationService._path,'remoteValidationService','validate',p0,p1,callback);}
if(dwr==null)var dwr={};if(dwr.engine==null)dwr.engine={};if(DWREngine==null)var DWREngine=dwr.engine;if(dwr==null)var dwr={};if(dwr.engine==null)dwr.engine={};if(DWREngine==null)var DWREngine=dwr.engine;if(remotePageRecordingService==null)var remotePageRecordingService={};remotePageRecordingService._path=''+JAWR.jawr_dwr_path+'';remotePageRecordingService.logLogicalPageWithPresentationInternal=function(p0,p1,p2,callback){dwr.engine._execute(remotePageRecordingService._path,'remotePageRecordingService','logLogicalPageWithPresentationInternal',p0,p1,p2,callback);}
remotePageRecordingService.setAbService=function(p0,callback){dwr.engine._execute(remotePageRecordingService._path,'remotePageRecordingService','setAbService',p0,callback);}
remotePageRecordingService.logLogicalPageWithPresentation=function(p0,p1,callback){dwr.engine._execute(remotePageRecordingService._path,'remotePageRecordingService','logLogicalPageWithPresentation',p0,p1,callback);}
remotePageRecordingService.getAbService=function(callback){dwr.engine._execute(remotePageRecordingService._path,'remotePageRecordingService','getAbService',callback);}
remotePageRecordingService.logLogicalPage=function(p0,callback){dwr.engine._execute(remotePageRecordingService._path,'remotePageRecordingService','logLogicalPage',p0,callback);}
life.oaat={screenIndex:0,fieldIndex:0,fieldBackIndex:0,buttonContinue:$('#continue'),application:$('#application'),buttonFields:false,init:function(){if(life.oaatConfig.initDisplay!=undefined){life.oaatConfig.initDisplay();}
life.oaat.bindEvents();life.oaat.displayFirstScreen();},bindEvents:function(){var fieldId=life.oaatConfig.fields[life.oaat.screenIndex];$.each(life.oaatConfig.fields,function(index,elm){$.each(elm,function(){$(document).bind('/model/change/'+this,function(evt,field){life.oaat.modelHandlerDisplay(field.name);});});});life.oaat.buttonContinue.click(life.oaat.buttonClicked);if(life.oaatConfig.backLink!=undefined){life.oaatConfig.backLink.click(life.oaat.stepBackHandler);}
if(life.oaatConfig.nextLink!=undefined){life.oaatConfig.nextLink.click(life.oaat.buttonClicked);}},displayFirstScreen:function(){var lastScreenPop=false;var trackBackCookie=false;if(life.oaatConfig.trackBackCookie!=undefined){trackBackCookie=life.oaatConfig.trackBackCookie();}
$.each(life.oaatConfig.fields,function(index,elm){$.each(elm,function(index,el){lastScreenPop=life.oaat.getFieldPopulated(el);if(lastScreenPop==false){if(life.oaatConfig.fieldsConditional!=undefined){$.each(life.oaatConfig.fieldsConditional,function(e){if(e==elm){lastScreenPop=true;return false;}});if(lastScreenPop==false){return false;}}else{return false;}}});if(lastScreenPop==false){return false;}});if(lastScreenPop==true&&trackBackCookie==true){if(life.oaatConfig.lastScreenIndex!=undefined){life.oaatConfig.lastScreenIndex();}else{life.oaat.screenIndex=life.oaatConfig.fields.length-1;}}
life.oaat.showFieldSet();if(life.oaatConfig.showInitElements!=undefined){life.oaatConfig.showInitElements();}},buttonClicked:function(){var screenName=life.oaatConfig.fields[life.oaat.screenIndex][0];life.oaat.buttonFields=life.oaat.alwaysDisplayButton();life.oaat.modelHandlerDisplay(screenName,true);},modelHandlerDisplay:function(fieldName,buttonClicked){$.each(life.oaatConfig.fields,function(index,elm){$.each(elm,function(){if(this==fieldName){life.oaat.fieldIndex=index;}});});if((life.oaat.screenPopulated()==true&&life.oaat.alwaysDisplayButton()==false)||(life.oaat.alwaysDisplayButton()==true&&life.oaat.buttonFields==true)||buttonClicked){life.oaat.screenCompleted(fieldName,buttonClicked);}
life.oaat.buttonFields=false;},showFieldSet:function(){if(life.oaat.screenIndex==0&&life.oaatConfig.displayBackLink()==false){if(life.oaatConfig.backLink!=undefined){life.oaatConfig.backLink.removeClass('visible');}}else{if(life.oaatConfig.backLink!=undefined){life.oaatConfig.backLink.addClass('visible');}}
var fieldName=life.oaatConfig.fields[life.oaat.screenIndex];$.each(fieldName,function(index,val){var fieldSetName=$('[name="'+val+'"]');window.scrollTo(0,1);fieldSetName.eq(0).parents('fieldset').addClass('visible');});if(life.oaatConfig.changeScreenElements!=undefined){if(life.oaatConfig.changeScreenElements()==false){life.oaat.displayButton();}}else{life.oaat.displayButton();}
if(life.oaatConfig.recordLP!=undefined){if(life.oaatConfig.recordLP()){life.oaat.logLogicalPage(life.oaatConfig.lpOrder[life.oaat.screenIndex]);}}},screenPopulated:function(){var fieldPopulated='';var fieldsInScreen=life.oaatConfig.fields[life.oaat.screenIndex];$.each(fieldsInScreen,function(){fieldPopulated=life.oaat.getFieldPopulated(this);if(fieldPopulated==false){return false;}});return fieldPopulated;},getFieldPopulated:function(fieldName){var fieldValue=model.application[fieldName];if(fieldValue===''||fieldValue==undefined){return false;}else{return true;}},screenCompleted:function(fieldName,buttonClicked){var fieldValidated=false;$.each(life.oaatConfig.fields[life.oaat.screenIndex],function(){fieldValidated=life.oaat.fieldValidation(this);if(!fieldValidated){return false;}});if(fieldValidated){life.oaat.saveInquiryCallParameters(life.oaatConfig.fields[life.oaat.screenIndex]);if(life.oaat.screenIndex==(life.oaatConfig.fields.length-1)){$('#button').click();}else{if(life.oaatConfig.getSkipField!=undefined){life.oaatConfig.getSkipField(fieldName);if(life.oaatConfig.stopScreen!=undefined){if(!life.oaatConfig.stopScreen){life.oaat.stepFwdHandler();}
life.oaatConfig.stopScreen=false;}else{life.oaat.stepFwdHandler();}}else{life.oaat.stepFwdHandler();}}}else{life.oaat.displayButton(buttonClicked);}},stepFwdHandler:function(){life.oaat.hideAllFields();life.oaat.screenIndex=life.oaat.fieldIndex+1;life.oaat.showFieldSet();if(life.oaat.screenIndex>0&&life.oaatConfig.backLink!=undefined){life.oaatConfig.backLink.addClass('visible');}
if(life.oaatConfig.animateScreenFwd!=undefined){life.oaatConfig.animateScreenFwd();}},stepBackHandler:function(){life.oaat.fieldBackIndex=1;if(life.oaat.screenIndex<=0){history.go(-1);}else{life.oaat.hideAllFields();if(life.oaatConfig.getBackSkipField!=undefined){life.oaatConfig.getBackSkipField();}
life.oaat.screenIndex=life.oaat.screenIndex-life.oaat.fieldBackIndex;life.oaat.showFieldSet();}
if(life.oaatConfig.animateScreenBack!=undefined){life.oaatConfig.animateScreenBack();}},displayButton:function(showBtn){var isScreenPop=life.oaat.screenPopulated();if(life.oaatConfig.buttonScreenMap!=undefined){$.each(life.oaatConfig.buttonScreenMap,function(key,value){if(key==life.oaat.screenIndex){if(isScreenPop==true||value==true||showBtn){life.oaat.buttonContinue.addClass('visible');if(life.oaatConfig.nextLink!=undefined){life.oaatConfig.nextLink.addClass('visible');}
return false;}else{life.oaat.buttonContinue.removeClass('visible');if(life.oaatConfig.nextLink!=undefined){life.oaatConfig.nextLink.removeClass('visible');}}}else{life.oaat.buttonContinue.removeClass('visible');if(life.oaatConfig.nextLink!=undefined){life.oaatConfig.nextLink.removeClass('visible');}}});}},alwaysDisplayButton:function(){var displayB=false;$.each(life.oaatConfig.buttonScreenMap,function(key,value){if(key==life.oaat.screenIndex&&value==true){displayB=true;return false;}else{displayB=false;}});return displayB;},hideAllFields:function(){life.oaat.application.find('fieldset').not(":last").removeClass('visible');life.oaat.buttonContinue.removeClass('visible');},fieldValidation:function(fieldName){controller.validator.validationResult=false;var data=$.extend({},model.application,model.ab);remoteValidationService.validateSingleField(model.application.presentationId,data,fieldName,{async:false,callback:controller.validator.processResponse,errorHandler:controller.validator.exceptionHandler});var result=(controller.validator.validationResult);return result;},logLogicalPage:function(pageOrder){var presentationId=model.application.presentationId;try{var details=pageOrder;$$debug('lmb.remotePageRecordingService.logLogicalPageWithPresentation',presentationId,pageOrder);remotePageRecordingService.logLogicalPageWithPresentation(presentationId,details);}catch(ex){$$error({location:'lmb.remotePageRecordingService',exception:ex});}},saveInquiryCallParameters:function(fieldsToSave){life.saveInquirySuccess=false;var data=$.extend({},model.application,model.ab),result;remoteInquirySaveService.save(data,fieldsToSave,{async:false,callback:function(saveResponse){life.saveInquirySuccess=saveResponse;if(!saveResponse){var fields=fieldsToSave.toString();controller.remoteLogger.logError({remoteInquirySaveError:fields});window.location.href="../../error500.jsp";};},errorHandler:function(){life.saveInquirySuccess=false;var fields=fieldsToSave.toString();controller.remoteLogger.logError({remoteInquirySaveError:fields});window.location.href="../../error500.jsp";}});return life.saveInquirySuccess;}};$(document).bind(controller.events.moduleInit,life.oaat.init);life.slidingAnimation={init:function(marginLeft,marginLeftCss){$("#application").animate({opacity:0,left:marginLeft},125,function(){$("#application").css("left",marginLeftCss);$("#application").animate({opacity:1,left:'80px'},125,function(){});});}};life.oaatConfig={fields:[['hasMilitaryAffiliation'],['hasUsedTobacco'],['isPilot'],['doesScubaOrSkyDiving'],['hasDuiOrRecklessDriving'],['hasMovingViolations'],['hasLicenseSuspendedRevoked'],['isCurrentlyInsured'],['zipcode']],buttonScreenMap:{0:false,1:false,2:false,3:false,4:false,5:false,6:false,7:false,8:true},lpOrder:['3','4','5','6','7','8','9','10','11'],backLink:$('#back'),nextLink:$('#next'),displayBackLink:function(){return false;},changeScreenElements:function(){if(life.oaat.screenIndex==8){life.oaat.displayButton();life.oaatConfig.nextLink.removeClass('visible');return true;}else{return false;}},trackBackCookie:function(){var isBackPage=false,ILF_OAAT_DESKTOP=$.cookie("ILF_OAAT_DESKTOP");if(ILF_OAAT_DESKTOP=="1"||ILF_OAAT_DESKTOP==null||ILF_OAAT_DESKTOP==""||ILF_OAAT_DESKTOP=="undefined"){isBackPage=false;}else if(ILF_OAAT_DESKTOP=="5"){isBackPage=true;}
$.cookie("ILF_OAAT_DESKTOP",context.application.pageNumber?context.application.pageNumber:1,{path:"/",domain:document.domain});return isBackPage;},initDisplay:function(){$('#page').css("visibility","visible");life.oaatConfig.updateSubHeadLineOnAge();},bindEvents:function(){$("input:checked").next().addClass("active").removeClass("inactive");$("input[type=radio]").click(function(){$(this).parents("fieldset").find(".active").removeClass("active").addClass("inactive");$(this).parents("fieldset").find("input:checked").next().removeClass("inactive").addClass("active");});},showInitElements:function(){},recordLP:function(){return true;},getSkipField:function(fieldName){life.oaatConfig.updateSubHeadLineOnAge();},getBackSkipField:function(){life.oaatConfig.updateSubHeadLineOnAge();},setProgBar:function(){},animateScreenBack:function(){life.slidingAnimation.init('+=100%','-98%');},animateScreenFwd:function(){life.slidingAnimation.init('-=100%','98%');},getUrlParamHash:function(){var urlParamHash=[],hash;var searchStr=document.location.search.substring(1),i,val,params=searchStr.split("&");for(var i=0;i<params.length;i++){hash=params[i].split('=');urlParamHash[hash[0]]=hash[1];}
return urlParamHash;},updateSubHeadLineOnAge:function(){var age=life.oaatConfig.getUrlParamHash()['Age'];if(age===undefined){age=life.oaatConfig.getUrlParamHash()['age'];}
if(age!==undefined&&age!==''&&$('#subheadline')){if(age.indexOf("-")!==-1){var ageRange=age.split("-");age=(parseInt(ageRange[0])+parseInt(ageRange[1]))/2;}
var ageText=life.oaatConfig.getCustomAgeStatement(Math.round(age));$('#subheadline').html(ageText);}
$("#subheadline").show();},getCustomAgeStatement:function(age){var statementsMap={};var statement="Find out about policies available to people aged "+age+" from our providers.";if(age>=18&&age<=25){statement="If you have people who depend on you, you probably need life insurance even if you're 18-25";}
else if(age>=26&&age<=35){statement="If you're 26-35 your young family needs protection";}
else if(age>=36&&age<=45){statement="If you're 36-45, your family needs protection";}
else if(age>=46&&age<=55){statement="If you're 46-55, your family depends on you";}
else if(age>=56&&age<=65){statement="If you're 56-65, protect your family with life insurance";}
else if(age>65){statement="Find out about policies available to people 65+ from our providers";}
return statement;}};$(document).bind(controller.events.moduleInit,life.oaatConfig.bindEvents);